   private void addToSpare(byte[] b, int offset, int len, boolean atTheEnd) {
      if(spare == null) {
         spare = new byte[len];
         System.arraycopy(b, offset, spare, 0, len);
      } else {
         byte[] newspare = new byte[spare.length+len];
         if(atTheEnd) {
            System.arraycopy(spare, 0, newspare, 0, spare.length);
            System.arraycopy(b, offset, newspare, spare.length, len);
         } else {
            System.arraycopy(b, offset, newspare, 0, len);
            System.arraycopy(spare, 0, newspare, len, spare.length);
         }
         spare = newspare;
      }
   }

