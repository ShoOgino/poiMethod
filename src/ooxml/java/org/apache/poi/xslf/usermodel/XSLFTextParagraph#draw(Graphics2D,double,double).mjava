    public double draw(Graphics2D graphics, double x, double y){
        double marginLeft = _shape.getLeftInset();
        double marginRight = _shape.getRightInset();
        Rectangle2D anchor = _shape.getAnchor();
        double penY = y;

        double textOffset = getLeftMargin();
        boolean firstLine = true;
        for(TextFragment line : _lines){
            double penX = x;
            switch (getTextAlign()) {
                case CENTER:
                    penX += textOffset + (anchor.getWidth() - textOffset - line.getWidth() - marginLeft - marginRight) / 2;
                    break;
                case RIGHT:
                    penX += (anchor.getWidth() - line.getWidth() - marginLeft - marginRight);
                    break;
                default:
                    penX = x + textOffset;
                    break;
            }

            if(_bullet != null && firstLine){
                _bullet.draw(graphics, penX  + getIndent(),  penY);
            }
            line.draw(graphics, penX,  penY);

            //The vertical line spacing
            double spacing = getLineSpacing();
            if(spacing > 0) {
                // If linespacing >= 0, then linespacing is a percentage of normal line height.
                penY += spacing*0.01*line.getHeight();
            } else {
                // positive value means absolute spacing in points
                penY += -spacing;
            }

            firstLine = false;
        }
        return penY - y;
    }

