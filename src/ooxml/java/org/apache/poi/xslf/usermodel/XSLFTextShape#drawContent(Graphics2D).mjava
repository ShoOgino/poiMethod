    @Override
    public void drawContent(Graphics2D graphics) {
        breakText(graphics);

        Rectangle2D anchor = getAnchor();
        double x = anchor.getX() + getLeftInset();
        double y = anchor.getY();

        // first dry-run to calculate the total height of the text
        double textHeight = getTextHeight();

        switch (getVerticalAlignment()){
            case TOP:
                y += getTopInset();
                break;
            case BOTTOM:
                y += anchor.getHeight() - textHeight - getBottomInset();
                break;
            default:
            case MIDDLE:
                double delta = anchor.getHeight() - textHeight -
                        getTopInset() - getBottomInset();
                y += getTopInset()  + delta/2;
                break;
        }

        drawParagraphs(graphics, x, y);
    }

