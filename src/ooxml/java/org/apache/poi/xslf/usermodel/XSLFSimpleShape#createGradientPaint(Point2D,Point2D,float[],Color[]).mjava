    /**
     * Trick to return GradientPaint on JDK 1.5 and LinearGradientPaint on JDK 1.6+
     */
    private Paint createGradientPaint(Point2D p1, Point2D p2, float[] fractions, Color[] colors){
        Paint paint;
        try {
            Class clz = Class.forName("java.awt.LinearGradientPaint");
            Constructor c =
                    clz.getConstructor(Point2D.class, Point2D.class, float[].class, Color[].class);
            paint = (Paint)c.newInstance(p1, p2, fractions, colors);
        } catch (ClassNotFoundException e){
            paint = new GradientPaint(p1, colors[0], p2, colors[colors.length - 1]);
        } catch (Exception e){
            throw new RuntimeException(e);
        }
        return paint;
    }

