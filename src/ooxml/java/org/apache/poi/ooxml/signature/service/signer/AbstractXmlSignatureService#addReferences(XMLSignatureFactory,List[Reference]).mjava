    private void addReferences(XMLSignatureFactory xmlSignatureFactory, List<Reference> references) throws NoSuchAlgorithmException,
                                    InvalidAlgorithmParameterException {
        List<ReferenceInfo> referenceInfos = getReferences();
        if (null == referenceInfos) {
            return;
        }
        if (referenceInfos.isEmpty()) {
            return;
        }
        DigestMethod digestMethod = xmlSignatureFactory.newDigestMethod(DigestMethod.SHA1, null);
        for (ReferenceInfo referenceInfo : referenceInfos) {
            List<Transform> transforms = new LinkedList<Transform>();
            if (null != referenceInfo.getTransform()) {
                Transform transform = xmlSignatureFactory.newTransform(referenceInfo.getTransform(), (TransformParameterSpec) null);
                transforms.add(transform);
            }
            LOG.debug("adding ds:Reference " + referenceInfo.getUri());
            Reference reference = xmlSignatureFactory.newReference(referenceInfo.getUri(), digestMethod, transforms, null, null);
            references.add(reference);
        }
    }

