    private void assertEntityLimitReached(Exception e) throws UnsupportedEncodingException {
        ByteArrayOutputStream str = new ByteArrayOutputStream();
        PrintWriter writer = new PrintWriter(new OutputStreamWriter(str, "UTF-8"));
        try {
            e.printStackTrace(writer);
        } finally {
            writer.close();
        }
        String string = new String(str.toByteArray(), "UTF-8");
        assertTrue("Had: " + string, string.contains("The parser has encountered more than"));
    }

