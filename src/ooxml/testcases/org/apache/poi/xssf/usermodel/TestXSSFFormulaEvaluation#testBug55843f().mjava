    public void testBug55843f() throws IOException {
        XSSFWorkbook wb = new XSSFWorkbook();
        try {
            XSSFSheet sheet = wb.createSheet("test");
            XSSFRow row = sheet.createRow(0);
            XSSFRow row2 = sheet.createRow(1);
            XSSFCell cellA2 = row2.createCell(0, Cell.CELL_TYPE_FORMULA);
            XSSFCell cellB1 = row.createCell(1, Cell.CELL_TYPE_NUMERIC);
            cellB1.setCellValue(10);
            XSSFFormulaEvaluator formulaEvaluator = wb.getCreationHelper().createFormulaEvaluator();

            cellA2.setCellFormula("IF(B1=0,\"\",IF(B1=10,3,4))");
            CellValue evaluate = formulaEvaluator.evaluate(cellA2);
            System.out.println(evaluate);
            assertEquals("3.0", evaluate.formatAsString());
        } finally {
            wb.close();
        }
    }    

