    /**
     * Flattens any contained objects. Only traverses one level deep.
     */
    private Object[] flattenArrays(Object... unflatParams) {
        List<Object> results = new ArrayList<Object>();
        for (Object obj : unflatParams) {
            flattenObject(results, obj);
        }
        return results.toArray(new Object[results.size()]);
    }

