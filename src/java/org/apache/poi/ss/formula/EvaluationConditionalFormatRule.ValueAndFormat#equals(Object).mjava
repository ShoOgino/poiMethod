        @Override
        public boolean equals(Object obj) {
            if (!(obj instanceof ValueAndFormat)) {
                return false;
            }
            ValueAndFormat o = (ValueAndFormat) obj;
            return ( value == o.value || value.equals(o.value))
                    && ( format == o.format || format.equals(o.format))
                    && (string == o.string || string.equals(o.string));
        }

