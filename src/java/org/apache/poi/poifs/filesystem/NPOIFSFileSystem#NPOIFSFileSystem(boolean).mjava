    private NPOIFSFileSystem(boolean newFS)
    {
        _header         = new HeaderBlock(bigBlockSize);
        _property_table = new NPropertyTable(_header);
        _mini_store     = new NPOIFSMiniStore(this, _property_table.getRoot(), new ArrayList<>(), _header);
        _xbat_blocks    = new ArrayList<>();
        _bat_blocks     = new ArrayList<>();
        _root           = null;
        
        if(newFS) {
           // Data needs to initially hold just the header block,
           //  a single bat block, and an empty properties section
           _data        = new ByteArrayBackedDataSource(IOUtils.safelyAllocate(
                   bigBlockSize.getBigBlockSize()*3, MAX_RECORD_LENGTH));
        }
    }

