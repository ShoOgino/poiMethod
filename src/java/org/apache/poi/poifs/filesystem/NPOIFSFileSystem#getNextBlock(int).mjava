    /**
     * Works out what block follows the specified one.
     */
    protected int getNextBlock(final int offset) {
       // TODO
       return -1;
    }

