    public void write(byte[] b) throws IOException {
        dieIfClosed();
        
        if (_buffer != null) {
            _buffer.write(b);
            checkBufferSize();
        } else {
            write(b, 0, b.length);
        }
    }

