    protected String getRenderableText(Graphics2D graphics, TextRun tr) {
        if (tr.getFieldType() == FieldType.SLIDE_NUMBER) {
            Slide<?,?> slide = (Slide<?,?>)graphics.getRenderingHint(Drawable.CURRENT_SLIDE);
            return (slide == null) ? "" : Integer.toString(slide.getSlideNumber());
        }
        String txt = tr.getRawText();
        txt.replace("\t", tab2space(tr)).replace("\u000b", "\n");

        switch (tr.getTextCap()) {
            case ALL: txt.toUpperCase(LocaleUtil.getUserLocale()); break;
            case SMALL: txt.toLowerCase(LocaleUtil.getUserLocale()); break;
            case NONE: break;
        }

        return txt;
    }

