    public static Expression parse(String str){
        for(String regexp : impls.keySet()) {
            Pattern ptrn = Pattern.compile(regexp);
            Matcher m = ptrn.matcher(str);
            if(m.matches()) {
                Class<? extends Expression> c = impls.get(regexp);
                try {
                    return c.getDeclaredConstructor(Matcher.class).newInstance(m);
                } catch (Exception e){
                    throw new RuntimeException(e);
                }
            }
        }
        throw new RuntimeException("Unsupported formula: " + str);
    }

