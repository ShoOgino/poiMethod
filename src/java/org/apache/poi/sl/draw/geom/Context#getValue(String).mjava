    public double getValue(String key){
        if(key.matches("(\\+|-)?\\d+")){
            return Double.parseDouble(key);
        }

        Formula builtIn = Formula.builtInFormulas.get(key);
        if(builtIn != null){
            return builtIn.evaluate(this);
        }

        if(!_ctx.containsKey(key)) {
            throw new RuntimeException("undefined variable: " + key);
        }

        return _ctx.get(key);
    }

