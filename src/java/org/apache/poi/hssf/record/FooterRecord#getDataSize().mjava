    protected int getDataSize() {
        int retval = 0;

        if (getFooterLength() > 0) {
            retval+=3; // [Shawn] Fixed for two null bytes in the length
        }
        return retval + getFooterLength() * (isMultibyte() ? 2 : 1);
    }

