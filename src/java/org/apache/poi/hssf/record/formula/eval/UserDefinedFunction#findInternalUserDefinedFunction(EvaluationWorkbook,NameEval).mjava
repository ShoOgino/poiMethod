	private static FreeRefFunction findInternalUserDefinedFunction(EvaluationWorkbook workbook,
			NameEval functionNameEval) {

		String functionName = functionNameEval.getFunctionName();
		if(false) {
			System.out.println("received call to internal user defined function  (" + functionName + ")");
		}
		FreeRefFunction functionEvaluator = workbook.findUserDefinedFunction(functionName); 
		if (functionEvaluator == null) {
		    functionEvaluator = MainToolPacksHandler.instance().findFunction(functionName);
		}
		if (functionEvaluator != null) {
            return functionEvaluator;
        }
		// TODO find the implementation for the user defined function

		throw new NotImplementedException(functionName);
	}

