	/**
	 * @deprecated use serializePtgs()
	 */
	public static int serializePtgStack(Stack expression, byte[] array, int offset) {
		int pos = 0;
		int size = 0;
		if (expression != null)
			size = expression.size();

		List arrayPtgs = null;

		for (int k = 0; k < size; k++) {
			Ptg ptg = ( Ptg ) expression.get(k);

			ptg.writeBytes(array, pos + offset);
			if (ptg instanceof ArrayPtg) {
			  if (arrayPtgs == null)
				  arrayPtgs = new ArrayList(5);
			  arrayPtgs.add(ptg);
			  pos += 8;
			} else pos += ptg.getSize();
		}
		if (arrayPtgs != null) {
			for (int i=0;i<arrayPtgs.size();i++) {
				ArrayPtg p = (ArrayPtg)arrayPtgs.get(i);
				pos += p.writeTokenValueBytes(array, pos + offset);
			}
		}
		return pos;
	}

