    /**
     * Calculate the size in bytes of the SST record.  This will include continue
     * records.
     *
     * @return the size of the SST record.
     */
    public int getRecordSize()
    {
        initVars();

        serializer.recordLengths = new ArrayList();
        int retval = 0;
        int totalStringSpaceRequired = serializer.calculateUnicodeSize();

        if ( totalStringSpaceRequired > SSTRecord.MAX_DATA_SPACE )
        {
            retval = sizeOverContinuation( totalStringSpaceRequired );
        }
        else
        {
            // short data: write one simple SST record
            retval = SSTRecord.SST_RECORD_OVERHEAD + totalStringSpaceRequired;
            serializer.recordLengths.add( new Integer( totalStringSpaceRequired ) );
        }
        return retval;
    }

