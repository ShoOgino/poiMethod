    protected static String getString(byte[] data, CodepageRecord codepage) {
        int cp = CodePageUtil.CP_ISO_8859_1;
        if (codepage != null) {
            cp = codepage.getCodepage();
        }
        try {
            return CodePageUtil.getStringFromCodePage(data, cp);
        } catch (UnsupportedEncodingException uee) {
            throw new IllegalArgumentException("Unsupported codepage requested", uee);
        }
    }

