    /**
     * Hack to recover from the situation where the page settings block has been split by
     * an intervening {@link WSBoolRecord}
     */
    private static PageSettingsBlock mergePSBs(PageSettingsBlock a, PageSettingsBlock b) {
        List<Record> temp = new ArrayList<Record>();
        RecordTransferrer rt = new RecordTransferrer(temp);
        a.visitContainedRecords(rt);
        b.visitContainedRecords(rt);
        RecordStream rs = new RecordStream(temp, 0);
        PageSettingsBlock result = new PageSettingsBlock(rs);
        if (rs.hasNext()) {
            throw new RuntimeException("PageSettingsBlocks did not merge properly");
        }
        return result;
    }

