    private static void confirmMode(double[] v, Double expectedResult) {
    	double actual;
		try {
			actual = Mode.evaluate(v);
			if (expectedResult == null) {
				throw new AssertionFailedError("Expected N/A exception was not thrown");
			}
		} catch (EvaluationException e) {
			if (expectedResult == null) {
				assertEquals(ErrorEval.NA, e.getErrorEval());
				return;
			}
			throw new RuntimeException(e);
		}
    	assertEquals("mode", expectedResult.doubleValue(), actual);
    }

