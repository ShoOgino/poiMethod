    public void updateStylesheet()
    {
        StringBuilder stringBuilder = new StringBuilder();
        for ( Map.Entry<String, Map<String, String>> byTag : stylesheet
                .entrySet() )
        {
            String tagName = byTag.getKey();
            for ( Map.Entry<String, String> byStyle : byTag.getValue()
                    .entrySet() )
            {
                String style = byStyle.getKey();
                String className = byStyle.getValue();

                stringBuilder.append( tagName + "." + className + "{" + style
                        + "}\n" );
            }
        }
        stylesheetElement.setTextContent( stringBuilder.toString() );
    }

