    // XXX incorporate into Range
    static List<CharacterRun> findCharacterRuns( Range range )
    {
        final int min = range.getStartOffset();
        final int max = range.getEndOffset();

        List<CharacterRun> result = new ArrayList<CharacterRun>();
        List<CHPX> chpxs = getCharacters( range );
        for ( int i = 0; i < chpxs.size(); i++ )
        {
            CHPX chpx = chpxs.get( i );
            if ( chpx == null )
                continue;

            if ( Math.max( min, chpx.getStart() ) <= Math.min( max,
                    chpx.getEnd() ) )
            {
                final CharacterRun characterRun = getCharacterRun( range, chpx );

                if ( characterRun == null )
                    continue;

                result.add( characterRun );
            }
        }

        return result;
    }

