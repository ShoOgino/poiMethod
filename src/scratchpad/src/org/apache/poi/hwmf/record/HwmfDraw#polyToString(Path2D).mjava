    static String polyToString(Path2D poly) {
        StringBuilder sb = new StringBuilder();
        sb.append("[");
        final PathIterator iter = poly.getPathIterator(null);
        double[] pnts = new double[6];
        while (!iter.isDone()) {
            int segType = iter.currentSegment(pnts);
            switch (segType) {
                case PathIterator.SEG_MOVETO:
                    sb.append("{ type: 'move', x: "+pnts[0]+", y: "+pnts[1]+" }, ");
                    break;
                case PathIterator.SEG_LINETO:
                    sb.append("{ type: 'lineto', x: "+pnts[0]+", y: "+pnts[1]+" }, ");
                    break;
                case PathIterator.SEG_QUADTO:
                    sb.append("{ type: 'quad', x1: "+pnts[0]+", y1: "+pnts[1]+", x2: "+pnts[2]+", y2: "+pnts[3]+" }, ");
                    break;
                case PathIterator.SEG_CUBICTO:
                    sb.append("{ type: 'cubic', x1: "+pnts[0]+", y1: "+pnts[1]+", x2: "+pnts[2]+", y2: "+pnts[3]+", x3: "+pnts[4]+", y3: "+pnts[5]+" }, ");
                    break;
                case PathIterator.SEG_CLOSE:
                    sb.append("{ type: 'close' }, ");
                    break;
            }
            iter.next();
        }
        sb.append("]");
        return sb.toString();
    }

