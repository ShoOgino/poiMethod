        /**
         *
         * @return a copy of a trimmed byte array of rawTextBytes bytes.
         * This includes only the bytes from 0..stringLength.
         * This does not include the extra optional padding on the byte array.
         */
        private byte[] getTextBytes() {
            byte[] ret = IOUtils.safelyAllocate(stringLength, MAX_RECORD_LENGTH);
            System.arraycopy(rawTextBytes, 0, ret, 0, stringLength);
            return ret;
        }

