        @Override
        public int init(LittleEndianInputStream leis, long recordSize, int recordFunction) throws IOException {
            int rasterOpCode = leis.readUShort();
            int rasterOpIndex = leis.readUShort();
            
            rasterOperation = HwmfTernaryRasterOp.valueOf(rasterOpIndex);
            assert(rasterOpCode == rasterOperation.opCode);

            colorUsage = leis.readUShort();
            srcHeight = leis.readShort();
            srcWidth = leis.readShort();
            ySrc = leis.readShort();
            xSrc = leis.readShort();
            destHeight = leis.readShort();
            destWidth = leis.readShort();
            yDst = leis.readShort();
            xDst = leis.readShort();
            
            int size = 11*LittleEndianConsts.SHORT_SIZE;
            dib = new HwmfBitmapDib();
            size += dib.init(leis, (int)(recordSize-6-size));

            return size;
        }        

