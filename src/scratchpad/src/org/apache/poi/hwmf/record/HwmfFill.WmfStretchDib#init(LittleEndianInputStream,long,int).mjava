        @Override
        public int init(LittleEndianInputStream leis, long recordSize, int recordFunction) throws IOException {
            int rasterOpCode = leis.readUShort();
            int rasterOpIndex = leis.readUShort();
            
            rasterOperation = HwmfTernaryRasterOp.valueOf(rasterOpIndex);
            assert(rasterOpCode == rasterOperation.opCode);

            colorUsage = ColorUsage.valueOf(leis.readUShort());

            int size = 3*LittleEndianConsts.SHORT_SIZE;

            size += readBounds2(leis, srcBounds);
            size += readBounds2(leis, dstBounds);

            size += dib.init(leis, (int)(recordSize-6-size));

            return size;
        }        

