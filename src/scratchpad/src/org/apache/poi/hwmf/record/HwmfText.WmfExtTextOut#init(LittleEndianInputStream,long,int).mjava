        public int init(LittleEndianInputStream leis, long recordSize, int recordFunction) throws IOException {
            y = leis.readShort();
            x = leis.readShort();
            stringLength = leis.readShort();
            fwOpts = leis.readUShort();
            left = leis.readShort();
            top = leis.readShort();
            right = leis.readShort();
            bottom = leis.readShort();
            
            byte buf[] = new byte[stringLength+(stringLength%2)];
            leis.readFully(buf);
            text = new String(buf, "UTF16-LE");
            
            int size = 8*LittleEndianConsts.SHORT_SIZE+buf.length;
            if (size < recordSize) {
                dx = new int[text.length()];
                for (int i=0; i<dx.length; i++) {
                    dx[i] = leis.readShort();
                }
                size += dx.length*LittleEndianConsts.SHORT_SIZE;
            }
            
            return size;
        }

