   /**
    * Test to see if attachments are not empty.
    */
   public void testReadAttachments() throws IOException {
      AttachmentChunks[] attachments = twoSimpleAttachments.getAttachmentFiles();

      // Basic checks
      for (AttachmentChunks attachment : attachments) {
         assertTrue(attachment.attachFileName.getValue().length() > 0);
         assertTrue(attachment.attachLongFileName.getValue().length() > 0);
         assertTrue(attachment.attachExtension.getValue().length() > 0);
         if(attachment.attachMimeTag != null) {
            assertTrue(attachment.attachMimeTag.getValue().length() > 0);
         }
      }

      AttachmentChunks attachment;

      // Now check in detail
      attachment = twoSimpleAttachments.getAttachmentFiles()[0];
      assertEquals("TEST-U~1.DOC", attachment.attachFileName.toString());
      assertEquals("test-unicode.doc", attachment.attachLongFileName.toString());
      assertEquals(".doc", attachment.attachExtension.getValue());
      assertEquals(null, attachment.attachMimeTag);
      assertEquals(24064, attachment.attachData.getValue().length);

      attachment = twoSimpleAttachments.getAttachmentFiles()[1];
      assertEquals("pj1.txt", attachment.attachFileName.toString());
      assertEquals("pj1.txt", attachment.attachLongFileName.toString());
      assertEquals(".txt", attachment.attachExtension.getValue());
      assertEquals(null, attachment.attachMimeTag);
      assertEquals(89, attachment.attachData.getValue().length);
   }

