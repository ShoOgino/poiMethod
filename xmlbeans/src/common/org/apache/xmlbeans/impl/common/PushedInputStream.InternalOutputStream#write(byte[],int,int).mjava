        public synchronized void write(byte b[], int off, int len)
        {
            if ((off < 0) || (off > b.length) || (len < 0) ||
                ((off + len) > b.length) || ((off + len) < 0))
                throw new IndexOutOfBoundsException();
            else if (len == 0)
                return;

            if (writepos + len > buf.length)
                shift(len);

            System.arraycopy(b, off, buf, writepos, len);
            writepos += len;
        }

