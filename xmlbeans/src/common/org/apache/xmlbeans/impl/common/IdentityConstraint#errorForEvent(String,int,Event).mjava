    public static XmlError errorForEvent(String msg, int severity, Event event)
    {
        XmlCursor loc = event.getLocationAsCursor();
        XmlError error;
        if (loc!=null)
            error = XmlError.forCursor(msg, severity, loc);
        else
        {
            Location location = event.getLocation();
            if (location!=null)
            {
                error = XmlError.forLocation(msg, severity,
                    location.getSystemId(), location.getLineNumber(),
                    location.getColumnNumber(), location.getCharacterOffset());
            }
            else
            {
                error = XmlError.forMessage(msg, severity);
            }
        }
        return error;
    }

