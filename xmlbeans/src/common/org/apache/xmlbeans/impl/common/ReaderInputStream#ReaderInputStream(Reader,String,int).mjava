    public ReaderInputStream(Reader reader, String encoding, int bufferSize) throws UnsupportedEncodingException
    {
        if (bufferSize <= 0)
            throw new IllegalArgumentException("Buffer size <= 0");

        this.reader = reader;
        this.writer = new OutputStreamWriter(getOutputStream(), encoding);
        buf = new char[bufferSize];
    }

