        void addKeyValues(final Set values, boolean child)
        {
            /** If the key values are added by children, then if two or
             more children add the same value, the value dissapears from the map
             but if is added by the element in question directly then it will
             be present in the map regardless of what children contained */
            for (Iterator it = values.iterator(); it.hasNext();)
            {
                Object key = it.next();
                Object value = _keyValues.get(key);
                if (value == null)
                    _keyValues.put(key, child ? CHILD_ADDED : SELF_ADDED);
                else if (value == CHILD_ADDED)
                {
                    if (child)
                        _keyValues.put(key, CHILD_REMOVED);
                    else
                        _keyValues.put(key, SELF_ADDED);
                }
                else if (value == CHILD_REMOVED)
                {
                    if (!child)
                        _keyValues.put(key, SELF_ADDED);
                }
            }
        }

