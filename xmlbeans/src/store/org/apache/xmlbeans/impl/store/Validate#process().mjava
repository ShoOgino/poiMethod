    private void process ( )
    {
        emitEvent( ValidatorListener.BEGIN );

        if (_cur.isAttr())
        {
            // If validating an attr, I'm really validating the contents of that attr.  So, go to
            // any text value and shove it thru the validator.
            
            _cur.next();

            if (_cur.isText())
                emitText();
        }
        else
        {
            assert _cur.isContainer();

            // Do the attrs of the top container
            
            doAttrs();

            for ( _cur.next() ; ! _cur.isAtEndOfLastPush() ; _cur.next() )
            {
                switch ( _cur.kind() )
                {
                case Cur.ELEM :
                    emitEvent( ValidatorListener.BEGIN );
                    doAttrs();
                    break;
                
                case - Cur.ELEM :
                    emitEvent( ValidatorListener.END );
                    break;
                
                case Cur.TEXT :
                    emitText();
                    break;
                    
                case Cur.COMMENT  :
                case Cur.PROCINST :
                    _cur.toEnd();
                    break;

                default :
                    throw new RuntimeException( "Unexpected kind: " + _cur.kind() );
                }
            }
        }
        
        emitEvent( ValidatorListener.END );
    }

