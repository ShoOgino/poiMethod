    public TokenType _toNextToken() {
        assert isValid();

        switch (_cur.kind()) {
            case ROOT:
            case ELEM:
                {
                    if (!_cur.toFirstAttr())
                        _cur.next();

                    break;
                }

            case ATTR:
                {
                    if (!_cur.toNextSibling()) {
                        _cur.toParent();
                        _cur.next();
                    }

                    break;
                }

            case COMMENT:
            case PROCINST:
                {
                    _cur.skip();
                    break;
                }

            default :
                {
                    if (!_cur.next())
                        return TokenType.NONE;

                    break;
                }
        }

        return _currentTokenType();
    }

