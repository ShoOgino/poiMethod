        public int getAttributeCount ( )
        {
            int n = 0;
            
            if (_cur.isElem())
            {
                Cur ca = _cur.tempCur();
                
                if (ca.toFirstAttr())
                {
                    do
                    {
                        if (ca.isNormalAttr())
                            n++;
                    }
                    while ( ca.toNextSibling() );
                }

                ca.release();
            }
            else if (_cur.isNormalAttr())
                n++;
            else
                throw new IllegalStateException();

            return n;
        }

