    /**
     * Constructs a SOAPArrayType reflecting the dimensions
     * of the next nested array.
     */
    public SOAPArrayType nestedArrayType()
    {
        if (!containsNestedArrays())
            throw new IllegalStateException();

        SOAPArrayType result = new SOAPArrayType();

        result._type = _type;

        result._ranks = new int[_ranks.length - 1];
        System.arraycopy(_ranks, 0, result._ranks, 0, result._ranks.length);

        result._dimensions = new int[_ranks[_ranks.length - 1]];
        for (int i = 0; i < result._dimensions.length; i++)
            result._dimensions[i] = -1;

        // result._hasIndeterminateDimensions = (result._dimensions.length > 0);

        return result;
    }

