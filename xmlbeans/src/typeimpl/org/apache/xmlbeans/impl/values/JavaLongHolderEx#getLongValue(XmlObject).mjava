    private static long getLongValue(XmlObject o) {
        SchemaType s = o.schemaType();
        switch (s.getDecimalSize()) 
        {
            case SchemaType.SIZE_BIG_DECIMAL:
                return ((XmlObjectBase)o).getBigDecimalValue().longValue();
            case SchemaType.SIZE_BIG_INTEGER:
                return ((XmlObjectBase)o).getBigIntegerValue().longValue();
            case SchemaType.SIZE_LONG:
                return ((XmlObjectBase)o).getLongValue();
            default:
                throw new IllegalStateException("Bad facet type: " + s);
        }

    }

