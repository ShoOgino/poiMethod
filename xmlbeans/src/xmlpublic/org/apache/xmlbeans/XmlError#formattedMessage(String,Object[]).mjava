    /**
     * Tries to format a message using the error code.
     */
    public static String formattedMessage(String code, Object[] args)
    {
        if (code == null)
            return null;

        String message;

        try
        {
            message = MessageFormat.format(_bundle.getString(code), args);
        }
        catch (java.util.MissingResourceException e)
        {
            return MessageFormat.format(_bundle.getString("message.missing.resource"),
                new Object[] { e.getMessage() });
        }
        catch (IllegalArgumentException e)
        {
            return MessageFormat.format(_bundle.getString("message.pattern.invalid"),
                new Object[] { e.getMessage() });
        }

        return message;
    }

