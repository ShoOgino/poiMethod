    /* package */ static int compareDurations(GDurationSpecification d1, GDurationSpecification d2)
    {
        // first do an all-fields check
        if (d1.getFraction().signum() == 0 && d2.getFraction().signum() == 0)
        {
            int s1 = d1.getSign();
            int s2 = d2.getSign();
            long month1 = s1 * ((long)d1.getYear() * 12 + d1.getMonth());
            long month2 = s2 * ((long)d2.getYear() * 12 + d2.getMonth());
            long sec1 = s1 * ((((long)d1.getDay() * 24 + d1.getHour()) * 60 + d1.getMinute()) * 60 + d1.getSecond());
            long sec2 = s2 * ((((long)d2.getDay() * 24 + d2.getHour()) * 60 + d2.getMinute()) * 60 + d2.getSecond());
            if (month1 == month2)
            {
                if (sec1 == sec2)
                    return 0;
                if (sec1 < sec2)
                    return -1;
                if (sec1 > sec2)
                    return 1;
            }
            if (month1 < month2 && sec1 - sec2 < 28 * 24 * 60 * 60)
                return -1;
            if (month1 > month2 && sec2 - sec1 < 28 * 24 * 60 * 60)
                return 1;
        }

        // the answer isn't obvious, so then do a total-sign check
        GDurationBuilder diff = new GDurationBuilder(d1);
        diff.subtractGDuration(d2);
        return diff._getTotalSignSlowly();
    }

