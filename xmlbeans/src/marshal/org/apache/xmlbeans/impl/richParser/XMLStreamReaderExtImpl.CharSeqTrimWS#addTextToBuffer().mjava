        private void addTextToBuffer()
        {
            _hasText = true;
            int textLength = _xmlSteam.getTextLength();
            ensureBufferLength(textLength);

            /*
            Commented out as part of the receipt of the more up to date
            jsr173_1.0_ri.jar. getTextCharacters(int, char[], int, int)
            used to throw UnsupportedOperationException always. Now it no longer
            does, but getTextCharacters(int, char[], int, int) does not return what
            we expect. So reverting to always calling getTextCharacters() until
            we can work out whether it's us that's wrong or them.

            if (_supportForGetTextCharacters)
                try
                {
                    _length = _xmlSteam.getTextCharacters(0, _buf, _length, textLength);
                }
                catch(Exception e)
                {
                    _supportForGetTextCharacters = false;
                }
            */

            // if(!_supportForGetTextCharacters)
            //{
            System.arraycopy(_xmlSteam.getTextCharacters(), _xmlSteam.getTextStart(), _buf, _length, textLength);
            _length = _length + textLength;
            //}
        }

