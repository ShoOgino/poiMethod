    //////////////////////////////////////////////////////////////////
    // Main
    public static void main(String args[])
        throws Exception
    {
        int level = INFO_NORMAL; // Default: Normal
        File baseDir = null;
        File outFile = null;
        // Process the arguments
        for (int i = 0; i < args.length; i++)
        {
            String arg = args[i];
            if (arg.charAt(0) == '-')
            {
                if (arg.equals("-silent"))
                    level = INFO_SILENT; // level: Silent
                else if (arg.equals("-normal"))
                    level = INFO_NORMAL; // level: Normal
                else if (arg.equals("-verbose"))
                    level = INFO_VERBOSE; // level: Verbose
                continue;
            }

            int index = arg.indexOf('=');
            if (index == -1)
                continue;     // Not a valid argument.. ignore.
            if (arg.substring(0, index).equals("dir"))
            {
                baseDir = new File(arg.substring(index+1));
                continue;
            }
            if (arg.substring(0, index).equals("outfile"))
            {
                outFile = new File(arg.substring(index+1));
                continue;
            }
        }

        // Verify baseDir and outfile
        if (baseDir == null)
            usage("Specify the directory containing the log files", true);
        if (outFile == null)
            usage("Specify the file to write the merged log", true);

        // Check validity of basedir and outfile
        if (!baseDir.isDirectory())
            usage("The 'dir' specified is not a directory: "
                  + baseDir.toString(),
                  true);
        if (outFile.exists() && !outFile.isFile())
            usage("The output file specified is not a valid file: "
                  + outFile.toString(),
                  true);

        // Everything looks good.
        new TestReportMergeUtility(baseDir, outFile, level).doMerge();
    }

