    private Collection getSubTests(Test test) {
        Collection ret = new ArrayList();

        if (TestSuite.class.isAssignableFrom(test.getClass())) {
            Enumeration e = ((TestSuite) test).tests();
            while (e.hasMoreElements()) {
                ret.addAll(getSubTests((Test) e.nextElement()));
            }
        } else if (TestCase.class.isAssignableFrom(test.getClass())) {
            ret.add(((TestCase) test));
        } else {
            System.out.println(
                    "Could not find any tests in " + test.toString());
        }

        return ret;
    }

