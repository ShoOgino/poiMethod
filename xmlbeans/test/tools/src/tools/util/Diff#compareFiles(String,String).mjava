    public String compareFiles(String oldFile, String newFile)
        throws IOException
    {
        //println("Diff of \"" + oldFile + "\" and \"" + newFile);
        oldinfo = new fileInfo(oldFile);
        newinfo = new fileInfo(newFile);
        /* we don't process until we know both files really do exist. */
        inputscan(oldinfo);
        inputscan(newinfo);

        /* Now that we've read all the lines, allocate some arrays.
         */
        blocklen = new int[(oldinfo.maxLine > newinfo.maxLine ?
                                        oldinfo.maxLine : newinfo.maxLine) + 2];
        oldinfo.alloc();
        newinfo.alloc();

        /* Now do the work, and print the results. */
        transform();
        return printout();
    }

