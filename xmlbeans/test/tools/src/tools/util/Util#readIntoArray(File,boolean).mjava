    /**
     * Read the contents of the given file line by line into a String array
     *
     * If the second argument is true, then all whitespace lines at the end will
     * be removed from the array
     */
    public static String[] readIntoArray(File file, boolean trimLines)
            throws IOException
    {
        BufferedReader reader = new BufferedReader(new FileReader(file));
        Vector v = new Vector();

        while (true)
        {
            String s = reader.readLine();
            if (s == null) break;
            v.addElement(s);
        }
        reader.close();
        // Discard all trailing lines that are only whitespaces..
        if (trimLines)
        {
            int i = v.size();
            while (--i >= 0)
                if (isWhiteSpace((String) v.get(i)))
                    v.removeElementAt(i);
        }

        String[] strArray = new String[v.size()];
        v.copyInto(strArray);
        return strArray;
    }

