    public static void copy(InputStream in, OutputStream out)
            throws IOException
    {
        try
        {
            int amount = 0;

            while (true)
            {
                synchronized (_byteBuffer)
                {
                    amount = in.read(_byteBuffer);
                    if (amount == -1)
                        break;
                    out.write(_byteBuffer, 0, amount);
                }
            }
        }
        finally
        {
            close(in);
            close(out);
        }
    }

