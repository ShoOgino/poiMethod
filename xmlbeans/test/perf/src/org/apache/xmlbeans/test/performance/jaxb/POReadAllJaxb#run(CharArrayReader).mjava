  private int run(CharArrayReader reader) throws Exception
  {
    int iSumStrings = 0;
    // create the xml source from the reader
    StreamSource source = new StreamSource(reader);
    // unmarshall the xml instance
    JAXBContext context = JAXBContext.newInstance("org.openuri.easypo");
    Unmarshaller unmarshaller = context.createUnmarshaller();
    unmarshaller.setValidating(false);
    PurchaseOrder po = 
      (PurchaseOrder) unmarshaller.unmarshal(source);

    // retreive the customer element
    Customer customer = po.getCustomer();
    iSumStrings += customer.getAddress().length();
    iSumStrings += customer.getName().length();
    // retreive the date
    po.getDate();
    // retreive all line items
    List lineitems = po.getLineItem();
    // sum the line item prices and get the other childs
    float sum = 0;
    for(int i=0; i<lineitems.size(); i++){
      LineItem li = (LineItem) lineitems.get(i);
      iSumStrings += li.getDescription().length();
      li.getPerUnitOunces();
      li.getQuantity();
      sum += li.getPrice();
    }
    // retreive the shipper element
    Shipper shipper = po.getShipper();
    iSumStrings += shipper.getName().length();
    shipper.getPerOunceRate();

    return iSumStrings;
  }

