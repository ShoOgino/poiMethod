  private int run(CharArrayReader reader) throws Exception
  {
    int iSumStrings = 0;
    // create the xml source from the reader
    StreamSource source = new StreamSource(reader);
    // unmarshall the xml instance
    JAXBContext context = JAXBContext.newInstance("org.openuri.easypo.jaxb2");
    Unmarshaller unmarshaller = context.createUnmarshaller();
    //depricated - unmarshaller.setValidating(false);
    PurchaseOrder po = 
      (PurchaseOrder) unmarshaller.unmarshal(source);

    // retreive the customer element
    Customer customer = po.getCustomer();
    iSumStrings += customer.getAddress().length();
    iSumStrings += customer.getName().length();
    // retreive the date
    po.getDate();
    // retrive the shipper element
    po.getShipper().getName();
    po.getShipper().getPerOunceRate();

    // retreive all line items
    Iterator it = po.getLineItem().iterator();
    // sum the line item prices and get the other childs
    float sum = 0;
    while(it.hasNext()){
      LineItem li = (LineItem) it.next();
      iSumStrings += li.getDescription().length();
      li.getPerUnitOunces();
      li.getQuantity();
      sum += li.getPrice();
    }
    // retreive the shipper element
    Shipper shipper = po.getShipper();
    iSumStrings += shipper.getName().length();
    shipper.getPerOunceRate();

    return iSumStrings;
  }

