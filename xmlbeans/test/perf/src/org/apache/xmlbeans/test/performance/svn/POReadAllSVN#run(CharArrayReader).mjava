  private int run(CharArrayReader reader) throws Exception
  {
    int iSumStrings = 0;
    // unmarshall the xml instance
    PurchaseOrderDocument poDoc = 
      PurchaseOrderDocument.Factory.parse(reader);       
    // retreive the purchase order
    PurchaseOrderDocument.PurchaseOrder po = poDoc.getPurchaseOrder();
    // retreive the customer element
    Customer customer = po.getCustomer();
    iSumStrings += customer.getAddress().length();
    iSumStrings += customer.getName().length();
    // retreive the date
    po.getDate();
    // retreive all line items
    LineItem[] lineitems = po.getLineItemArray();
    // sum the line item prices and get the other childs
    float sum = 0;
    for(int i=0; i<lineitems.length; i++){
      iSumStrings += lineitems[i].getDescription().length();
      lineitems[i].getPerUnitOunces();
      lineitems[i].getQuantity();
      sum += lineitems[i].getPrice();
    }
    // retreive the shipper element
    Shipper shipper = po.getShipper();
    iSumStrings += shipper.getName().length();
    shipper.getPerOunceRate();

    return iSumStrings;
  }

