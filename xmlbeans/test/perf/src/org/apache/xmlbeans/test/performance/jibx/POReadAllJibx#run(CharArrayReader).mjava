  private int run(CharArrayReader reader) throws Exception
  {
    int iSumStrings = 0;
    // unmarshall the xml instance
    IBindingFactory bfactory = 
      BindingDirectory.getFactory(JibxPurchaseOrder.class);
    IUnmarshallingContext ucontext = bfactory.createUnmarshallingContext();
    // retreive the purchase order
    JibxPurchaseOrder po = (JibxPurchaseOrder) ucontext.unmarshalDocument(reader);
    // retreive the customer element
    Customer customer = po.getCustomer();
    iSumStrings += customer.getAddress().length();
    iSumStrings += customer.getName().length();
    // retreive the date
    po.getDate();
    // retreive all line items
    ArrayList lineitems = po.getLineitems();
    // sum the line item prices and get the other childs
    float sum = 0;
    for(int i=0; i<lineitems.size(); i++){
      Lineitem lineitem = (Lineitem) lineitems.get(i);
      iSumStrings += lineitem.getDescription().length();
      lineitem.getPerUnitOunces();
      lineitem.getQuantity();
      sum += lineitem.getPrice();
    }
    // retreive the shipper element
    Shipper shipper = po.getShipper();
    iSumStrings += shipper.getName().length();
    shipper.getPerOunceRate();

    return iSumStrings;
  }

