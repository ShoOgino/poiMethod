  private int run() throws Exception
  {
    // create the purchase order
    PurchaseOrder po = new PurchaseOrder();

    // create and initialize the customer
    Customer customer = new Customer();
    customer.setName(Constants.PO_CUSTOMER_NAME);
    customer.setAddress(Constants.PO_CUSTOMER_ADDR);
    po.setCustomer(customer);

    // set the date
    // Date required in javax.xml.datatype.XMLGregorianCalendar format
    GregorianCalendar gdate = new GregorianCalendar();
    po.setDate(javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(Long.toString(gdate.getTimeInMillis())));

    // create and initialize the line item array
    for(int i=0; i<Constants.PO_NUM_LINEITEMS; i++)
    {
      LineItem li = new LineItem();
      li.setDescription(Constants.PO_LI_DESC);
      li.setPerUnitOunces(Constants.PO_LI_PUO);
      li.setPrice(Constants.PO_LI_PRICE);
      li.setQuantity(Constants.PO_LI_QUANTITY);
      po.getLineItem().add(li);
    }
    
    // create and initialize the shipper
    Shipper shipper = new Shipper();
    shipper.setName(Constants.PO_SHIPPER_NAME);
    shipper.setPerOunceRate(Constants.PO_SHIPPER_POR);
    po.setShipper(shipper);

    // grab the instance that was constructed
    JAXBContext context = JAXBContext.newInstance("org.openuri.easypo.jaxb2");
    Marshaller marshaller = context.createMarshaller();
    StringWriter writer = new StringWriter();
    marshaller.marshal(po,writer);

    // calculate a hash to return
    int hash = ( po.getLineItem().size() ) * 17;
    return hash;

  }

