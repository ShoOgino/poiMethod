  private int run(CharArrayReader reader) throws Exception 
  {
    int iSumStrings = 0;
    // "unmarshall" the xml instance
    InputSource is = new InputSource(reader);
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    factory.setNamespaceAware(true);
    factory.setValidating(false);
    DocumentBuilder builder = factory.newDocumentBuilder();
    Document doc = builder.parse(is);

    // retreive the purchase order
    Element po = doc.getDocumentElement();

    // retreive the customer element
    Node customer = po.getElementsByTagName("po:customer").item(0);
    NodeList custChildren = customer.getChildNodes();
    iSumStrings += 
      custChildren.item(1).getFirstChild().getNodeValue().length();
    iSumStrings += 
      custChildren.item(3).getFirstChild().getNodeValue().length();
    // retreive the date
    po.getElementsByTagName("po:date").item(0);
    // retreive all line items
    NodeList lineitems = po.getElementsByTagName("po:line-item");
    // sum the line item prices and get the other childs
    float sum = 0;
    for(int i=0; i<lineitems.getLength(); i++){
      NodeList liChildren = lineitems.item(i).getChildNodes();
      iSumStrings += 
        liChildren.item(1).getFirstChild().getNodeValue().length();
      liChildren.item(3);
      liChildren.item(7);
      sum += 
        Float.parseFloat(liChildren.item(5).getFirstChild().getNodeValue());
    }

    // retreive the shipper element
    Node shipper = po.getElementsByTagName("po:shipper").item(0);
    NodeList shipperChildren = shipper.getChildNodes();
    iSumStrings += shipperChildren.item(1).getFirstChild().getNodeValue().length();
    shipperChildren.item(3).getFirstChild().getNodeValue();

    return iSumStrings;
  }

