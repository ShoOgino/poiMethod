  private int run(BufferedInputStream bis) throws Exception 
  {
    // create the input source from the bis
    InputSource is = new InputSource(bis);

    // load the input source
    SAXParserFactory factory = SAXParserFactory.newInstance();
    SAXParser parser = factory.newSAXParser();
    MyHandler handler = new MyHandler();
    parser.parse(is, handler);

    // calculate and return the hash
    return handler.getTagName().length() * 17;
  }

