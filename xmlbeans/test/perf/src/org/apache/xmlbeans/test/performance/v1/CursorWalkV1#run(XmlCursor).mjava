  private int run(XmlCursor cursor) throws Exception
  {
    int iHash = 0;
    
    while(cursor.hasNextToken()){
    
      // walk the doc with the cursor, computing the hash
      if(cursor.isStart())
      {
        iHash += 17; // add a prime number
      }
      else if(cursor.isContainer())
      {
        iHash += cursor.getTextValue().length();
      }
      else if(cursor.isAttr())
      {
        iHash += cursor.getTextValue().length();
      }
      else if(cursor.isText())
      {
        iHash += cursor.getChars().length();
      }

      cursor.toNextToken();

    }

    // reset the cursor to the beginning 
    cursor.toStartDoc();

    // return the hash value
    return iHash;
  }

