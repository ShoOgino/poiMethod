  private int run() throws Exception 
  {
  
    // instantiate the handler
    MyHandler handler = new MyHandler();
    handler.startDocument();
    handler.startPrefixMapping(Constants.prefix,
                               Constants.PO_NS);

    // start the po element
    AttributesImpl attributes = new AttributesImpl();
    attributes.addAttribute(null,
                            null,
                            Constants.qNamespace,
                            Constants.qString,
                            Constants.PO_NS);
    handler.startElement(null,null,Constants.qPO,attributes);
    
    // the customer element
    handler.startElement(Constants.qCustomer);
    handler.startElement(Constants.qName);
    handler.characters(Constants.PO_CUSTOMER_NAME);
    handler.endElement(Constants.qName);
    handler.startElement(Constants.qAddress);
    handler.characters(Constants.PO_CUSTOMER_ADDR);
    handler.endElement(Constants.qAddress);
    handler.endElement(Constants.qCustomer);

    // the date element
    handler.startElement(Constants.qDate);
    handler.characters(Constants.PO_DATE_STRING);
    handler.endElement(Constants.qDate);

    // the line items
    for(int i=0; i<Constants.PO_NUM_LINEITEMS; i++)
    {
      handler.startElement(Constants.qLineItem);
      handler.startElement(Constants.qDescription);
      handler.characters(Constants.PO_LI_DESC);
      handler.endElement(Constants.qDescription);
      handler.startElement(Constants.qPerUnitOunces);
      handler.characters(Constants.PO_LI_PUO_STRING);
      handler.endElement(Constants.qPerUnitOunces);
      handler.startElement(Constants.qPrice);
      handler.characters(Constants.PO_LI_PRICE_STRING);
      handler.endElement(Constants.qPrice);
      handler.startElement(Constants.qQuantity);
      handler.characters(Constants.PO_LI_QUANTITY_STRING);
      handler.endElement(Constants.qQuantity);
      handler.endElement(Constants.qLineItem);
    }

    // the shipper
    handler.startElement(Constants.qShipper);
    handler.startElement(Constants.qName);
    handler.characters(Constants.PO_SHIPPER_NAME);
    handler.endElement(Constants.qName);
    handler.startElement(Constants.qPerOunceRate);
    handler.characters(Constants.PO_SHIPPER_POR_STRING);
    handler.endElement(Constants.qPerOunceRate);
    handler.endElement(Constants.qShipper);


    // end the po element
    handler.endElement(Constants.qPO);

    // calculate a hash to return
    int hash = handler.getLineItemCount() * 17;
    return hash;
  }

