    // This method is primarily for testing re-use of the ValXSR object.
    // but could come in handy later..
    private boolean[] runValidator(File[] xml,
                                 SchemaType type,
                                 Collection errors)
            throws IllegalArgumentException, Exception
    {
        if (errors == null)
            throw new IllegalArgumentException(
                    "Collection object cannot be null");
        ValidatingXMLStreamReader valXsr = new ValidatingXMLStreamReader();
        boolean[] retArray = new boolean[xml.length];

        for (int i = 0; i < xml.length; i++)
        {
            XMLStreamReader xsr = XMLInputFactory.newInstance().
                                  createXMLStreamReader(new FileInputStream(xml[i]));

            valXsr.init(xsr,
                        false,
                        type,
                        XmlBeans.typeLoaderForClassLoader(ValidatingXMLStreamReader.class.getClassLoader()),
                        null,
                        errors);

            // Walk through the xml
            while (valXsr.hasNext())
                valXsr.next();

            retArray[i] = valXsr.isValid();
        }

        return retArray;
    }

