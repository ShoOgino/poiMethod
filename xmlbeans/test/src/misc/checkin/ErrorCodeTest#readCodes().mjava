    /**
     * Reads the field values of the public static final String fields of XmlErrorCodes.
     * Throws an Exception if a duplicate value is found.
     */
    private Set readCodes() throws Exception
    {
        Set result = new LinkedHashSet();

        Field[] fields = XmlErrorCodes.class.getDeclaredFields();
        for (int i = 0; i < fields.length; i++) {
            Field field = fields[i];
            int modifiers = field.getModifiers();

            // only look at fields that are public static final
            if ((modifiers & (Modifier.PUBLIC | Modifier.STATIC | Modifier.FINAL)) == 0)
                continue;

            // only look at String fields
            if (field.getType() != String.class)
                continue;

            String value = (String)field.get(null);

            if (!result.add(value))
                throw new Exception("duplicate error code value in XmlErrorCodes: " + value + " in field " + field.getName());
        }

        return result;
    }

