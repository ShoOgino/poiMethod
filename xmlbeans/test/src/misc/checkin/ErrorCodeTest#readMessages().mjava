    /**
     * Reads the message.properties file and throws an exception if a duplicate property key is found.
     */
    private Properties readMessages() throws Exception
    {
        class UniqueProperties extends Properties
        {
            public Object put(Object key, Object value)
            {
                Object old = super.put(key, value);
                if (old != null)
                    throw new RuntimeException("duplicate property key '" + key + "' with value: " + value);
                return null;
            }
        }

        Properties result = new UniqueProperties();
        result.load(XmlErrorCodes.class.getResourceAsStream("message.properties"));
        return result;
    }

