    // Invalid xml instance with 2 problems :
    // a) the values for the key & key ref elems are not the same
    // b) The keyref/key elems are duplicated
    public void testKeyRefIllegal() throws Throwable {

        String input =
                "<con:CompanyDB xmlns:con=\"http://xbean/scomp/idConstraint/Constraint\">" +
                "<con:KeyProductList >" +
                " <con:product>" +
                " <con:department con:name=\"Marketing\"/>" +
                " <con:id>FooBarChart</con:id>" +
                "</con:product>" +
                " <con:product>" +
                " <con:department con:name=\"Marketing\"/>" +
                " <con:id>FooBarChart</con:id>" +
                "</con:product>" +
                "</con:KeyProductList>" +
                "<con:order>" +
                "   <con:customerName>Bozo</con:customerName>" +
                "   <con:item con:deptId=\"7345\"" +
                "   con:SKU=\"ID1\">" +
                "  </con:item>" +
                "</con:order>" +
                "<con:order>" +
                "   <con:customerName>Bozo</con:customerName>" +
                "   <con:item con:deptId=\"7345\"" +
                "   con:SKU=\"ID1\">" +
                "  </con:item>" +
                "</con:order>" +
                "</con:CompanyDB>";

        CompanyDBDocument doc = CompanyDBDocument.Factory.parse(input);
        assertTrue(!doc.validate(validateOptions));
        showErrors();
        String[] errExpected = new String[]{
            XmlErrorCodes.IDENTITY_CONSTRAINT_VALID$DUPLICATE_KEY,
            XmlErrorCodes.IDENTITY_CONSTRAINT_VALID$KEYREF_KEY_NOT_FOUND
        };
        assertTrue(compareErrorCodes(errExpected));


    }

