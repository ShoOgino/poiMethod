    /**
     * null key in instance:missing dept in first product
     *
     * @throws Throwable
     */
    public void testKeyIllegal() throws Throwable {
        String input =
                "<xs:KeyProductList xmlns:xs=\"http://xbean/scomp/idConstraint/Constraint\">" +
                " <xs:product>" +
                " <xs:id>FooBarChart</xs:id>" +
                "</xs:product>" +
                "<xs:product>" +
                " <xs:department xs:name=\"7345\"/>" +
                " <xs:id>FooBarChart</xs:id>" +
                "</xs:product>" +
                "</xs:KeyProductList>";

        KeyProductListDocument doc = KeyProductListDocument.Factory.parse(input);

        assertTrue(!doc.validate(validateOptions));
        showErrors();
        //TODO: is this the right error
        String[] errExpected = new String[]{
            XmlErrorCodes.ELEM_COMPLEX_TYPE_LOCALLY_VALID$EXPECTED_DIFFERENT_ELEMENT,
           XmlErrorCodes.ELEM_COMPLEX_TYPE_LOCALLY_VALID$MISSING_ELEMENT
        };
        assertTrue(compareErrorCodes(errExpected));

    }

