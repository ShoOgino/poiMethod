    /** calling setNil should inserts
     * attr and delete value
     * @throws Throwable
     */
    public void testDelete() throws Throwable{
        GlobalEltComplexDocument  testElt = GlobalEltComplexDocument
                .Factory.parse("<pre:GlobalEltComplex" +
                "   xmlns:pre=\"http://xbean/scomp/element/GlobalEltNillable\"" +
                " xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"" +
                " testattribute=\"foobar\">" +
                "<nestedElt>" +
                "foo</nestedElt></pre:GlobalEltComplex>");
        try {
            assertTrue(testElt.validate(validateOptions));
        }
        catch (Throwable t) {
            showErrors();
            throw t;
        }
        testElt.getGlobalEltComplex().setNil();
        assertEquals("<pre:GlobalEltComplex " +                 
                "testattribute=\"foobar\" " +
                "xsi:nil=\"true\" " +
                "xmlns:pre=\"http://xbean/scomp/element/GlobalEltNillable\" " +
                "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/>",
                testElt.xmlText());
         try {
            assertTrue(testElt.validate(validateOptions));
        }
        catch (Throwable t) {
            showErrors();
            throw t;
        }

    }

