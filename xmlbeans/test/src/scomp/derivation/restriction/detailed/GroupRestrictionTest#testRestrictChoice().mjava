    public void testRestrictChoice() throws Throwable {
        RestrictedChoiceEltDocument doc = RestrictedChoiceEltDocument.Factory
                .newInstance();
        RestrictedChoiceT elt = doc.addNewRestrictedChoiceElt();
        elt.addChild2("foobar");
        elt.addChild3(BigInteger.ZERO);
        assertTrue(!doc.validate(validateOptions));
        showErrors();
        String[] errExpected = new String[]{
            XmlErrorCodes.ELEM_COMPLEX_TYPE_LOCALLY_VALID$EXPECTED_DIFFERENT_ELEMENT};
        assertTrue(compareErrorCodes(errExpected));

        elt.removeChild2(0);
        try {
            assertTrue(doc.validate(validateOptions));
        } catch (Throwable t) {
            showErrors();
            throw t;
        }

    }

