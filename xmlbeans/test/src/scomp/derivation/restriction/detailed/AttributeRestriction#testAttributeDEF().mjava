    public void testAttributeDEF() throws Throwable {
        AttrEltDocument doc = AttrEltDocument.Factory.newInstance();
        RestrictedAttrT elt = doc.addNewAttrElt();
        XmlString expected=XmlString.Factory.newInstance();
        expected.setStringValue("a");
        elt.xsetD(expected);
        assertEquals("a", elt.getD());
        assertTrue(!doc.validate(validateOptions));
       // showErrors();
        //D invalid, F missing
        String[] errExpected = new String[]{
            XmlErrorCodes.ATTR_LOCALLY_VALID$FIXED,
              XmlErrorCodes.ELEM_COMPLEX_TYPE_LOCALLY_VALID$MISSING_REQUIRED_ATTRIBUTE
        };
        assertTrue(compareErrorCodes(errExpected));

        elt.setD("d");
        elt.setE("e");
        elt.setF("foobar");
        try {
            assertTrue(doc.validate(validateOptions));
        }
        catch (Throwable t) {
            showErrors();
            throw t;
        }
    }

