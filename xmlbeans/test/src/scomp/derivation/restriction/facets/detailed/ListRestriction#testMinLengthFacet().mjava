    public void testMinLengthFacet() throws Throwable {
        String input =
                "<MinLengthElt xmlns=\"http://xbean/scomp/derivation/facets/List\">" +
                "lstsmall lstlarge lstsmall" +
                "</MinLengthElt>";
        MinLengthEltDocument doc = MinLengthEltDocument.Factory.parse(input);
        try {
            assertTrue(doc.validate(validateOptions));
        } catch (Throwable t) {
            showErrors();
            throw t;
        }

        List vals = doc.getMinLengthElt();
        assertEquals(3, vals.size());
        List newvals = new ArrayList(vals);
        newvals.remove(0);
        newvals.remove(1);
        assertEquals(1, newvals.size());

        doc.setMinLengthElt(newvals);
        assertEquals(doc.getMinLengthElt().size(),
                doc.xgetMinLengthElt().getListValue().size());
        assertEquals(1, doc.xgetMinLengthElt().getListValue().size());

        assertEquals("lstlarge",
                (String) doc.xgetMinLengthElt().getListValue().get(0));
        assertTrue(!doc.validate(validateOptions));
        showErrors();
        String[] errExpected = new String[]{
            XmlErrorCodes.DATATYPE_LENGTH_VALID$LIST_LENGTH
        };
        assertTrue(compareErrorCodes(errExpected));


    }

