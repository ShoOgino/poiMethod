    public void testMaxLengthFacet() throws Throwable {
        String input =
                "<MaxLengthElt xmlns=\"http://xbean/scomp/derivation/facets/List\">" +
                "lstsmall lstlarge lstsmall" +
                "</MaxLengthElt>";
        MaxLengthEltDocument doc = MaxLengthEltDocument.Factory.parse(input);
        assertTrue(!doc.validate(validateOptions));
        showErrors();
        String[] errExpected = new String[]{
            XmlErrorCodes.DATATYPE_LENGTH_VALID$LIST_LENGTH};
        assertTrue(compareErrorCodes(errExpected));

        MaxLengthFacet elt = MaxLengthFacet.Factory.newInstance();
        List vals = new ArrayList();
        vals.add("lstsmall");
        vals.add("lstsmall");
        //why is there no xsetListValue method here?
        elt.setListValue(vals);
        doc.xsetMaxLengthElt(elt);
        try {
            assertTrue(doc.validate(validateOptions));
        } catch (Throwable t) {
            showErrors();
            throw t;
        }
    }

