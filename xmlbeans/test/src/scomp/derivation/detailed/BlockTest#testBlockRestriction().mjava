    public void testBlockRestriction() throws Throwable {
        //subst ext type: should work
        EltRBaseDocument doc = EltRBaseDocument.Factory.parse(getInstance("EltRBase", "extRT", true, true));
        validate(doc);
        //subst rest type:  should not be possible
        EltRBaseDocument doc1 = EltRBaseDocument.Factory.parse(getInstance("EltRBase", "restRT", false, false));
        assertTrue(!doc1.validate(validateOptions));
        String[] errExpected = new String[]{
            XmlErrorCodes
                .ELEM_LOCALLY_VALID$XSI_TYPE_BLOCK_RESTRICTION};
               assertTrue(compareErrorCodes(errExpected));

        doc1 = EltRBaseDocument.Factory
                .parse(getInstance("EltRBase", "restRT", false, true));
        clearErrors();
        assertTrue(!doc1.validate(validateOptions));
        errExpected = new String[]{
            XmlErrorCodes.ELEM_LOCALLY_VALID$XSI_TYPE_BLOCK_RESTRICTION};
        assertTrue(compareErrorCodes(errExpected));

    }

