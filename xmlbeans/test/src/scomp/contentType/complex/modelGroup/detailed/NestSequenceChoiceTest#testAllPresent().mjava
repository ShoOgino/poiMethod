    public void testAllPresent() throws Throwable {
        NestedChoiceInSequenceDocument doc =
                NestedChoiceInSequenceDocument.Factory.newInstance();
        NestedChoiceInSequenceT elt = doc.addNewNestedChoiceInSequence();
        elt.setChildDouble(1.3);
        elt.setChildInt(2);
        elt.setChildStr("foo");

        elt.setOptchildDouble(1.4);

        try {
            assertTrue(doc.validate(validateOptions));
        } catch (Throwable t) {
            showErrors();
            throw t;
        }

        //can't have both set
        elt.setOptchildInt(2);
        elt.setOptchildStr("boo");
        assertTrue(!doc.validate(validateOptions));
        showErrors();
        String[] errExpected = new String[]{
            XmlErrorCodes.ELEM_COMPLEX_TYPE_LOCALLY_VALID$EXPECTED_DIFFERENT_ELEMENT
        };
        assertTrue(compareErrorCodes(errExpected));

        elt.unsetOptchildDouble();
        try {
            assertTrue(doc.validate(validateOptions));
        } catch (Throwable t) {
            showErrors();
            throw t;
        }

    }

