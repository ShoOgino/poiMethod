    public void testValidSubstBuild() throws Throwable {
        ItemsDocument doc = ItemsDocument.Factory.newInstance();
        ItemType items = doc.addNewItems();
        HatType hat = HatType.Factory.newInstance();
        hat.setName("Funny Hat");
        hat.setNumber("SKU84");
        hat.setSize(new BigInteger("10"));

        /*   This doesn't work
        ProductType hat = elt.addNewProduct();
        ((HatType)hat).setNumber(3);
        ShirtType shirt = (ShirtType) elt.addNewProduct();
        */
        ShirtType shirt = ShirtType.Factory.newInstance();
        shirt.setName("Funny Shirt");
        shirt.setNumber("SKU54");
        shirt.setColor("blue");
        shirt.setSize(new BigInteger("10"));
        ProductType genericProd = ProductType.Factory.newInstance();
        genericProd.setName("Pants");
        genericProd.setNumber("32");

        items.setProductArray(new ProductType[]{hat, shirt, genericProd});
        try {
            assertTrue(doc.validate(validateOptions));
        } catch (Throwable t) {
            showErrors();
            throw t;
        }

        //TODO: what to do with the umbrella here???
    }

