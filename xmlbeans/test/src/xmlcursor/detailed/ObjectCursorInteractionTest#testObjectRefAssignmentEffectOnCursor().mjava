    public void testObjectRefAssignmentEffectOnCursor() throws Exception {
        String sXml0 =
                "<loc:Location xmlns:loc=\"http://xbean.test/xmlcursor/Location\">" +
                "<loc:CityName>DALLAS</loc:CityName>" +
                "<loc:StateCode>TX</loc:StateCode>" +
                "</loc:Location>";
        String sXml1 =
                "<loc:Location xmlns:loc=\"http://xbean.test/xmlcursor/Location\">" +
                "<loc:PostalCode>90210</loc:PostalCode>" +
                "<loc:CountryCode>US</loc:CountryCode>" +
                "</loc:Location>";
        LocationDocument locDoc0 = LocationDocument.Factory.parse(
                sXml0);
        Location loc0 = locDoc0.getLocation();
        XmlCursor xc0 = loc0.newCursor();

        LocationDocument locDoc1 = (LocationDocument) XmlObject.Factory.parse(
                sXml1);
        Location loc1 = locDoc1.getLocation();

        assertEquals("DALLAS", loc0.getCityName());
        assertEquals("TX", loc0.getStateCode());
        assertEquals(null, loc0.getPostalCode());
        assertEquals(null, loc0.getCountryCode());

        loc0 = loc1;

        assertEquals(null, loc0.getCityName());
        assertEquals(null, loc0.getStateCode());
        assertEquals("90210", loc0.getPostalCode());
        assertEquals("US", loc0.getCountryCode());

        try {
            assertEquals(sXml0, xc0.xmlText());
            xc0 = loc0.newCursor();
            assertEquals(sXml1, xc0.xmlText());
        }
        finally {
            xc0.dispose();
        }
    }

