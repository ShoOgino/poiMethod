    public void testCursorRefAssignmentEffectOnObject() throws Exception {
        String sXml0 =
                "<loc:Location xmlns:loc=\"http://xbean.test/xmlcursor/Location\">" +
                "<loc:CityName>DALLAS</loc:CityName>" +
                "<loc:StateCode>TX</loc:StateCode>" +
                "</loc:Location>";
        LocationDocument locDoc0 = LocationDocument.Factory.parse(
                sXml0);
        Location loc0 = locDoc0.getLocation();
        XmlCursor xc0 = loc0.newCursor();

        String sXml1 =
                "<loc:Location xmlns:loc=\"http://xbean.test/xmlcursor/Location\">" +
                "<loc:PostalCode>90210</loc:PostalCode>" +
                "<loc:CountryCode>US</loc:CountryCode>" +
                "</loc:Location>";
        LocationDocument locDoc1 = LocationDocument.Factory.parse(
                sXml1);
        Location loc1 = locDoc1.getLocation();
        XmlCursor xc1 = loc1.newCursor();

        try {
            assertEquals("DALLAS", loc0.getCityName());
            assertEquals("TX", loc0.getStateCode());
            assertEquals(null, loc0.getPostalCode());
            assertEquals(null, loc0.getCountryCode());

            xc0 = xc1;

            assertEquals("DALLAS", loc0.getCityName());
            assertEquals("TX", loc0.getStateCode());
            assertEquals(null, loc0.getPostalCode());
            assertEquals(null, loc0.getCountryCode());

            loc0 = (Location) xc0.getObject();

            assertEquals(null, loc0.getCityName());
            assertEquals(null, loc0.getStateCode());
            assertEquals("90210", loc0.getPostalCode());
            assertEquals("US", loc0.getCountryCode());

        }
        finally {
            xc0.dispose();
            xc1.dispose();
        }
    }

