    public void testGetObjectValidateLocation() throws Exception {
        String sNamespace = "xmlns:loc=\"http://xbean.test/xmlcursor/Location\"";
        String sXml =
                "<loc:Location " + sNamespace + ">" +
                "<loc:CityName>DALLAS</loc:CityName>" +
                "<loc:StateCode>TX</loc:StateCode>" +
                "</loc:Location>";
        LocationDocument locDoc = LocationDocument.Factory.parse(sXml);
        XmlCursor xc = locDoc.newCursor();
        xc.toFirstChild();
        LocationDocument.Location loc = (LocationDocument.Location) xc.getObject();
        assertEquals(true, loc.validate());
        XmlCursor xc0 = xc.newCursor();

        xc0.toEndDoc();
        xc0.toPrevToken();
      //  xc0.insertElementWithText("SubdivisionCode", "xyz");
        xc0.insertElementWithText(
                new QName("http://xbean.test/xmlcursor/Location","SubdivisionCode","loc"),
                "xyz");
        xc0.toCursor(xc);


        String sExpectedXML =
                "<loc:Location " + sNamespace + ">" +
                "<loc:CityName>DALLAS</loc:CityName>" +
                "<loc:StateCode>TX</loc:StateCode>" +
                "<loc:SubdivisionCode>xyz</loc:SubdivisionCode>" +
                "</loc:Location>";

        String sOExpectedXML =
                "<xml-fragment " + sNamespace + ">" +
               "<loc:CityName>DALLAS</loc:CityName>" +
                "<loc:StateCode>TX</loc:StateCode>" +
               "<loc:SubdivisionCode>xyz</loc:SubdivisionCode>" +
        "</xml-fragment>";
        XmlOptions map = new XmlOptions();
        //map.put(XmlOptions.SAVE_PRETTY_PRINT, "");
        //map.put(XmlOptions.SAVE_PRETTY_PRINT_INDENT, new Integer(-1));
        try {
            assertEquals(sExpectedXML, xc0.xmlText(map));
            loc = (LocationDocument.Location) xc0.getObject();
            assertEquals(sOExpectedXML, loc.xmlText());
            assertEquals(true, loc.validate());
            assertEquals("DALLAS", loc.getCityName());
            assertEquals("TX", loc.getStateCode());
            assertEquals("xyz", loc.getSubdivisionCode());
        }
        finally {
            xc.dispose();
            xc0.dispose();
        }

    }

