    public void testImplicitNamespaces ( )
        throws Exception
    {
        Map namespaces = new HashMap();
        namespaces.put( "foo", "foo.com" );
        namespaces.put( "bar", "bar.com" );
        namespaces.put( "", "default.com" );

        XmlOptions options = new XmlOptions();
        options.put( XmlOptions.SAVE_IMPLICIT_NAMESPACES, namespaces );

        XmlObject x = XmlObject.Factory.newInstance();
        XmlCursor c = x.newCursor();

        c.toNextToken();

        c.beginElement( "a", "foo.com" );
        c.beginElement( "b", "default.com" );
        c.beginElement( "c", "bar.com" );

        Assert.assertTrue(
            x.xmlText( options ).equals( "<foo:a><b><bar:c/></b></foo:a>" ) );
    }

