    public void testBookmarks ( )
        throws Exception
    {
        XmlObject x = XmlObject.Factory.parse( "<foo x='y'>abcdefg<!---->xy</foo>" );
        
        XmlCursor c = x.newCursor();
        MyMark m1 = new MyMark(); c.setBookmark( m1 );
        
        c.toNextToken();
        MyMark m2 = new MyMark(); c.setBookmark( m2 );
        
        c.toNextToken();
        MyMark m3 = new MyMark(); c.setBookmark( m3 );
        
        c.toNextToken();
        MyMark m4 = new MyMark(); c.setBookmark( m4 );
        
        c.toNextChar( 1 );
        MyMark m5 = new MyMark(); c.setBookmark( m5 );
        
        c.toNextChar( 3 );
        MyMark m6 = new MyMark(); c.setBookmark( m6 );

        c.toNextToken();
        c.toNextToken();
        c.toNextToken();
        MyMark m7 = new MyMark(); c.setBookmark( m7 );
        
        c.toNextToken();
        MyMark m8 = new MyMark(); c.setBookmark( m8 );

        c.toStartDoc();

        Assert.assertTrue( c.getBookmark   ( MyMark.class ) == m1 );
        Assert.assertTrue( c.toNextBookmark( MyMark.class ) == m2 );
        Assert.assertTrue( c.toNextBookmark( MyMark.class ) == m3 );
        Assert.assertTrue( c.toNextBookmark( MyMark.class ) == m4 );
        Assert.assertTrue( c.toNextBookmark( MyMark.class ) == m5 );
        Assert.assertTrue( c.toNextBookmark( MyMark.class ) == m6 );
        Assert.assertTrue( c.toNextBookmark( MyMark.class ) == m7 );
        Assert.assertTrue( c.toNextBookmark( MyMark.class ) == m8 );
        Assert.assertTrue( c.toNextBookmark( MyMark.class ) == null );
        
        c.toEndDoc();
        
        Assert.assertTrue( c.getBookmark   ( MyMark.class ) == m8 );
        Assert.assertTrue( c.toPrevBookmark( MyMark.class ) == m7 );
        Assert.assertTrue( c.toPrevBookmark( MyMark.class ) == m6 );
        Assert.assertTrue( c.toPrevBookmark( MyMark.class ) == m5 );
        Assert.assertTrue( c.toPrevBookmark( MyMark.class ) == m4 );
        Assert.assertTrue( c.toPrevBookmark( MyMark.class ) == m3 );
        Assert.assertTrue( c.toPrevBookmark( MyMark.class ) == m2 );
        Assert.assertTrue( c.toPrevBookmark( MyMark.class ) == m1 );
        Assert.assertTrue( c.toPrevBookmark( MyMark.class ) == null );
    }

