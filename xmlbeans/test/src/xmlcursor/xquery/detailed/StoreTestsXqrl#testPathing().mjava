    public void testPathing ( )
        throws Exception
    {
        XmlObject x =
            XmlObject.Factory.parse(
                "<foo><bar>1</bar><bar>2</bar><bar>3</bar></foo>" );

        XmlCursor c = x.newCursor();

        c.selectPath( "//bar" );
        
        Assert.assertTrue( c.toNextSelection() );
        Assert.assertTrue( c.xmlText().equals( "<bar>1</bar>" ) );

        Assert.assertTrue( c.toNextSelection() );
        Assert.assertTrue( c.xmlText().equals( "<bar>2</bar>" ) );

        Assert.assertTrue( c.toNextSelection() );
        Assert.assertTrue( c.xmlText().equals( "<bar>3</bar>" ) );

        Assert.assertTrue( !c.toNextSelection() );

        //
        //
        //

        x =
            XmlObject.Factory.parse(
                "<foo><bar x='1'/><bar x='2'/><bar x='3'/></foo>" );

        c = x.newCursor();

        //c.selectPath( "$this//@x" );
        c.selectPath( ".//@x" );

        Assert.assertTrue( c.toNextSelection() );
        Assert.assertTrue( c.currentTokenType().isAttr() );
        Assert.assertTrue( c.getTextValue().equals( "1" ) );

        Assert.assertTrue( c.toNextSelection() );
        Assert.assertTrue( c.currentTokenType().isAttr() );
        Assert.assertTrue( c.getTextValue().equals( "2" ) );

        Assert.assertTrue( c.toNextSelection() );
        Assert.assertTrue( c.currentTokenType().isAttr() );
        Assert.assertTrue( c.getTextValue().equals( "3" ) );

        Assert.assertTrue( !c.toNextSelection() );

        //
        //
        //

        x =
            XmlObject.Factory.parse(
                "<foo><bar>1</bar><bar>2</bar><bar>3</bar></foo>" );

        c = x.newCursor();

        c.selectPath( "//text()" );

        Assert.assertTrue( c.toNextSelection() );
        Assert.assertTrue( c.currentTokenType().isText() );
        Assert.assertTrue( c.getChars().equals( "1" ) );

        Assert.assertTrue( c.toNextSelection() );
        Assert.assertTrue( c.currentTokenType().isText() );
        Assert.assertTrue( c.getChars().equals( "2" ) );

        Assert.assertTrue( c.toNextSelection() );
        Assert.assertTrue( c.currentTokenType().isText() );
        Assert.assertTrue( c.getChars().equals( "3" ) );

        Assert.assertTrue( !c.toNextSelection() );
    }

