    public void testWithInstanceFromSchema()
            throws Exception {
        String xml = "<mt:Test xmlns:mt=\"http://www.mtest.com\"> <mt:desc/> </mt:Test>";
        TestDocument doc = TestDocument.Factory.parse(xml);
        SubInfo subInfo = SubInfo.Factory.newInstance();
        subInfo.setDesc("hi");
        subInfo.setSubdesc("there");
        doc.setTest(subInfo);
        String lnSep = System.getProperty("line.separator");
        String str1 = "<mtes:Test xsi:type=\"mtes:SubInfo\" xmlns:mtes=\"http://www.mtest.com\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">" + lnSep +
                "  <mtes:desc>hi</mtes:desc>" + lnSep +
                "  <mtes:subdesc>there</mtes:subdesc>" + lnSep +
                "</mtes:Test>";
        String str2 = "<mtes:Test xsi:type=\"mtes:SubInfo\" xmlns:mtes=\"http://www.mtest.com\" " +
                "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">" +
                "<mtes:desc>hi</mtes:desc>" +
                "<mtes:subdesc>there</mtes:subdesc>" +
                "</mtes:Test>";

        assertTrue("XmlText() Failed.", doc.xmlText().equals(str2));
        assertTrue("toString() Failed.", doc.toString().trim().equals(str1));
    }

