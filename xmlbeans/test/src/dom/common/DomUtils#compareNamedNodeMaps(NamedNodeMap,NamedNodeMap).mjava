    /**
     * @return true if sets are the same
     */
    public static boolean compareNamedNodeMaps(NamedNodeMap atrSet1,
        NamedNodeMap atrSet2)
    {
        if (atrSet1 == null)
            if (atrSet2 == null)
                return true;
            else
                return false;
        else if (atrSet2 == null) return false;

        int nLen1 = atrSet1.getLength();
        Attr at1,
            at2;

        if (nLen1 != atrSet2.getLength())
            return false;
        for (int i = 0; i < nLen1; i++)
        {
            at1 = (Attr) atrSet1.item(i);
            at2 = (Attr) atrSet2.getNamedItem(at1.getName());
            if (at2 == null)
                return false;
            else if (!
                (at1.getNodeName().equals(at2.getNodeName())) &&
                (at1.getNamespaceURI().equals(at2.getNamespaceURI())) &&
                (at1.getValue().equals(at2.getValue()))
            )
                return false;
            else if (at1 == at2) return false;
        }
        return true;
    }

