    /**
     * pathologic cases: newChild is m_node or an ancestor
     * newChild is from a different document
     * newChild is not allowed at this pos
     */
    public void testAppendChild(Node newChild) {
        Node inserted = m_node.appendChild(newChild);
        if (newChild.getNodeType() == Node.DOCUMENT_FRAGMENT_NODE)
            assertEquals(true, compareNodeListPrefix(newChild.getChildNodes(), m_node.getChildNodes()));
        else
            assertEquals(inserted, m_node.getLastChild());
        if (isInTree(m_node, newChild)) //new child is in the tree
        //$NOTE: assert the child is removed first
            ;
    }

