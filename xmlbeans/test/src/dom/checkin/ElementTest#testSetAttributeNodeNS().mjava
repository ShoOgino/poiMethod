    public void testSetAttributeNodeNS() {
        m_node = m_docNS.getFirstChild().getFirstChild();
        Attr result;
        Attr newAttr = m_docNS.createAttributeNS("uri:foo", "at0");
        Attr oldAttr = ((Element) m_node).getAttributeNodeNS("uri:foo", "at0");
        assertFalse(oldAttr == null);
        newAttr.setValue("newval");
        result = ((Element) m_node).setAttributeNodeNS(newAttr);
        assertEquals(oldAttr, result);
        Attr insertedAtt = ((Element) m_node).getAttributeNodeNS("uri:foo",
                "at0");
        assertFalse(insertedAtt == null);
        assertEquals("newval", insertedAtt.getNodeValue());

        //insert new
        int nAttrCnt = m_node.getAttributes().getLength();
        newAttr = m_docNS.createAttributeNS("uri:foo", "attr1");
        newAttr.setValue("newval");
        result = ((Element) m_node).setAttributeNode(newAttr);
        assertEquals(null, result);
        assertEquals("newval",
                ((Element) m_node).getAttributeNS("uri:foo", "attr1"));
        assertEquals(nAttrCnt + 1, m_node.getAttributes().getLength());

        //insert new
        newAttr = m_docNS.createAttributeNS("uri:foo:org", "attr1");
        newAttr.setValue("newURIval");
        result = ((Element) m_node).setAttributeNodeNS(newAttr);

        assertEquals(null, result);
        assertEquals("newURIval",
                ((Element) m_node).getAttributeNS("uri:foo:org", "attr1"));
        assertEquals(nAttrCnt + 2, m_node.getAttributes().getLength());

    }

