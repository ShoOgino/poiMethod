        public void run() {
            System.err.println("*** Thread " + _ID + " starting " +
                    doc.getDocumentElement().getNodeName() +
                    " " +
                    nIter);
            try {
                for (int i = 0; i < nIter; i++) {
                   // System.err.println("*** Thread "+_ID+" starting "+nIter+" "+i);
                    switch (0) {//_ID

                        case 0:
                            {
                                doc.getDocumentElement().appendChild(
                                        doc.createElement("foobar"));
                                if (i % 5 == 0) {
                                    NodeList nl = doc.getDocumentElement()
                                            .getElementsByTagName("foobar");
                                    if (nl.getLength() > 0) {
                                        Element par = (Element) nl.item(0)
                                                .getParentNode();
                                        par.removeChild((Element) nl.item(0));
                                    }
                                }
                                // break;
                            }
                        case 1:
                            {
                                ((Element) doc.getDocumentElement()).setAttributeNode(
                                        doc.createAttribute("foobar"));
                                if (i % 5 == 0) {
                                    NamedNodeMap nl = doc.getDocumentElement()
                                            .getAttributes();
                                    if (nl.getLength() > 0) {
                                        Element par = (Element) ((Attr) nl.getNamedItem(
                                                "foobar")).getOwnerElement();
                                        par.removeAttribute("foobar");
                                    }
                                }
                                // break;
                            }
                        case 2:
                            {
                                doc.getDocumentElement().appendChild(
                                        doc.createTextNode("foobar"));
                                if (i % 5 == 0) {
                                    NodeList nl = ((Element) doc.getDocumentElement()).getElementsByTagName(
                                            "foobar");
                                    if (nl != null && nl.getLength() > 0) {
                                        Element par = (Element) nl.item(
                                                i % nl.getLength())
                                                .getParentNode();
                                        par.removeChild((Element) nl.item(0));
                                    }
                                }
                                //  break;

                            }
                        case 3:
                            {
                                Node n = doc.getDocumentElement()
                                        .getFirstChild();
                                if (n != null && (n instanceof Text)) {
                                    ((Text) n).setData("newText");
                                    if (i % 5 == 0) {
                                        int len;
                                        if ((len =
                                                ((Text) n).getData().length()) >
                                                0)
                                            ((Text) n).splitText(len / 2);
                                    }
                                }
                                //    break;
                            }
                        case 4:
                            {
                                //  System.err.println("*** Thread "+_ID+" case 4 ");
                                NodeList n = ((Element) doc.getDocumentElement()).getElementsByTagNameNS(
                                        "foo:org", "myns:foo2");
                                Attr at = doc.createAttribute("foo2_at");
                                if (n != null && n.getLength() > 0) {
                                    ((Element) n.item(0)).setAttributeNode(at);
                                    if (i % 5 == 0) {
                                        ((Element) n.item(0)).removeAttributeNode(
                                                at);
                                    }
                                }
                            }

                    }

                }

            }
            catch (Throwable t) {
                System.err.println("Caught throwable");
               // return;

            }
        }

