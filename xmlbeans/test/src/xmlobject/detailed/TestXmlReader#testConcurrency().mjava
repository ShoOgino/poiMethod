    /**
     * Tests read-only concurrency support in XML Beans
     * See Radar Bug: 33254
     */
    public void testConcurrency() throws Exception {
        // Get the file contents
        String xmlFile = JarUtil.getResourceFromJar("xbean/xmlcursor/po.xml");

        StringXmlReader rdr1 = new StringXmlReader(xmlFile);
        StringXmlReader rdr2 = new StringXmlReader(xmlFile);
        StringXmlReader rdr3 = new StringXmlReader(xmlFile);

        Thread t1 = new Thread(rdr1, "Reader1");
        Thread t2 = new Thread(rdr2, "Reader2");
        Thread t3 = new Thread(rdr3, "Reader3");
        t1.start();
        t2.start();
        t3.start();

        // Wait for threads to finish
        t1.join();
        t2.join();
        t3.join();

        // Check the status of the XmlReaders
        boolean status = rdr1.getStatus() & rdr2.getStatus() & rdr3.getStatus();

        assertTrue("Concurrency Test Failed.", status);
    }

