    /*
     * Radar Bug: 40907
     */
    public void test40907()
            throws Exception
    {
        String str = "<myt:Test xmlns:myt=\"http://www.mytest.com\">" +
                "<myt:foo>" +
                "<myt:fooMember>this is foo member</myt:fooMember>" +
                "</myt:foo>" +
                "</myt:Test>";
        TestDocument doc = TestDocument.Factory.parse(str);

        assertTrue("XML Instance did not validate.", doc.validate());

        Bar bar = Bar.Factory.newInstance();
        bar.setFooMember("new foo member");
        bar.setBarMember("new bar member");

        Info info = doc.getTest();

        Foo foo = info.addNewFoo();
        foo.set(bar);

        assertTrue("Modified XML instance did not validate.", doc.validate());
        str = "<myt:Test xmlns:myt=\"http://www.mytest.com\">" +
                "<myt:foo>" +
                "<myt:fooMember>this is foo member</myt:fooMember>" +
                "</myt:foo>" +
                "<myt:foo xsi:type=\"myt:bar\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">" +
                "<myt:fooMember>new foo member</myt:fooMember>" +
                "<myt:barMember>new bar member</myt:barMember>" +
                "</myt:foo>" +
                "</myt:Test>";
        assertEquals("XML instance is not as expected", doc.xmlText(), str);

    }

