    /**
     * Edits incoming <root> XML to make the following changes: replace
     * <somelement> with its <stringlist> child; add a new <foo> 
     * element as the second child of <arrayofany>.
     * 
     * This method illustrates how you can use the selectPath method
     * to find an element defined as xs:any in schema, then use
     * XmlCursor instances to edit the XML.
     * 
     * @param rootDoc An instance of the <root> XML document.
     * @return <code>true</code> if the editing XML is valid; 
     * otherwise, <code>false</code>.
     */
    public boolean editExistingDocWithSelectPath(RootDocument rootDoc)
    {
        String namespaceDecl = "declare namespace any='" + 
        			m_namespaceUri + "'; ";
        XmlCursor selectionCursor = rootDoc.getRoot().getArrayofany().newCursor();

        // Save the cursor's position for later, then use XPath
        // and cursor movement to position the cursor at
        // the <stringlist> element.
        selectionCursor.push();
        selectionCursor.selectPath(namespaceDecl + 
                "$this//any:someelement/any:stringlist");
        selectionCursor.toNextSelection();

        // Create a new cursor and move it to the selection
        // cursor's <someelement> parent. Moving the 
        // <stringlist> element to this position, displacing
        // the <someelement> downward, then removing the
        // <someelement> XML effectively replaces <someelement>
        // with <stringlist>.
        XmlCursor editCursor = selectionCursor.newCursor();
        editCursor.toParent();
        selectionCursor.moveXml(editCursor);
        editCursor.removeXml();
        editCursor.dispose();

        // Return the cursor to the <arrayofany> element so you 
        // can do more editing. Then move the cursor to the second 
        // child and insert a new element as second child.
        selectionCursor.pop();
        selectionCursor.toFirstChild();
        selectionCursor.toNextSibling();
        selectionCursor.beginElement("foo", "http://openuri.org");
        selectionCursor.insertChars("some text");
        selectionCursor.dispose();

        System.out.println("Output: <stringlist> has been promoted to replace \n" +
                "<someelement>, and there's a new <foo> element.\n");
        System.out.println(rootDoc + "\n");
        return validateXml(rootDoc);        
    }

